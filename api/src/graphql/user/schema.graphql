enum Role {
  ADMIN
  USER
}

type PermissionOnUser {
  status: String!
  permission: Permission
  user: User
}

# Types
type User {
  id: ID!
  names: String!
  firstLastName: String!
  secondLastName: String!
  username: String!
  password: String!
  permissions: [PermissionOnUser]!
  createdAt: String!
  updatedAt: String!
  typeId: String
  type: UserType
  status: String!
  role: Role!
}

type UserCreate {
  created: Boolean
  user: User
}

type UserDelete {
  deleted: Boolean
  user: User
}

type UserUpdate {
  updated: Boolean
  user: User
}

# Queries
type Query {
  allUsers: [User!]!
  getUserById(id: ID): User
  getUserByUsername(username: String): User
}

type UserUpdatePermission {
  created: Boolean
  permission: PermissionOnUser
}

# Mutations
type Mutation {
  createUser(input: CreateUserInput): UserCreate
  updateUserByUsername(input: UpdateUserByUsernameInput): UserUpdate
  updateUserById(input: ForUpdateUserById): UserUpdate
  deleteUserById(id: ID): UserDelete
  deleteUserByUsername(username: String): UserDelete
  createPermissionForUser(
    input: UpdatePermissionsUserByUsernameInput
  ): UserUpdatePermission
}

# Input types
input CreateUserInput {
  names: String!
  firstLastName: String!
  secondLastName: String!
  username: String!
  password: String!
  typeId: String!
  status: String
  role: Role!
}

input UpdateUserInput {
  names: String
  firstLastName: String
  secondLastName: String
  username: String
  password: String
  typeId: String
  status: String
  permissions: [CreatePermissionInput]
  createdAt: String
  updatedAt: String
  type: CreateTypeUserInput
  role: Role
}

input ForUpdateUserById {
  id: ID!
  data: UpdateUserInput
}

input UpdateUserByUsernameInput {
  username: String!
  data: UpdateUserInput
}

input UpdatePermissionsUserByUsernameInput {
  username: String!
  data: [CreatePermissionInput]!
}
